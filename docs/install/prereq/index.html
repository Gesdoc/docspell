<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Eike Kettner">
<meta name="description" content="Simple Document Organizer">
<meta name="image" property="og:image" content="/img/poster.png">
<meta name="title" property="og:title" content="Docspell â€“ Simple Document Organizer">
<meta name="og:image" content="/img/poster.png">
<meta name="og:title" content="Docspell â€“ Simple Document Organizer">
<meta name="og:site_name" content="Prerequisites - Docspell">
<meta name="og:url" content="">
<meta name="og:type" content="website">
<meta name="og:description" content="Simple Document Organizer">
<meta name="twitter:title" content="Docspell">
<meta name="twitter:image" content="/img/poster.png">
<meta name="twitter:description" content="Simple Document Organizer">
<meta name="twitter:card" content="summary_large_image">

<link rel="shortcut icon" href="/favicon-mc.ico" type="image/x-icon">
<link rel="icon" href="/favicon-mc.ico" type="image/x-icon">

        <title>Prerequisites â€“ Docspell Documentation</title>
        <link rel="stylesheet" href="/styles.css">
    </head>
    <body>
        <section class="hero is-info is-small">
            <div class="hero-head">
                <nav class="navbar">
    <div class="navbar-brand">
        <a class="navbar-item" href="/">
            <span class="icon">
                <img src="/icons/logo-only-36.svg">
            </span>
            <span>
                Docspell
            </span>
        </a>
    </div>
    <div class="navbar-start">
        <a target="_blank"
           href="https://github.com/eikek/docspell"
           class="navbar-item">
            <span class="icon">
                <img src="/icons/github-40.svg">
            </span>
            <span>
                Github
            </span>
        </a>
    </div>
</nav>

            </div>
            <div class="hero-body">
                <h1 class="title">
                    Prerequisites
                </h1>
                <h2 class="subtitle">
                    Docspell Documentation
                </h2>
            </div>
        </section>
        <nav class="breadcrumb has-succeeds-separator" aria-label="breadcrumbs">
            <ul>
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;docspell.org&#x2F;"></a>
                </li>
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;">Overview</a>
                </li>
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;install&#x2F;">Installation and Deployment</a>
                </li>
                
                <li>
                    <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;install&#x2F;prereq&#x2F;">Prerequisites</a>
                </li>
            </ul>
        </nav>

        <section class="section pt-2">
            <div class="columns is-desktop">
                <div class="column is-3">
                    <div class="menu">
                        <ul class="menu-list">
                            
                            

                            <p class="menu-label">
                                Installation and Deployment
                            </p>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/install/quickstart/"
                                   >
                                    Quickstart
                                </a>
                                
                            </li>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/install/prereq/"
                                   class="is-active">
                                    Prerequisites
                                </a>
                                
                                <ul class="menu-list">
                                    
                                    <li>
                                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;install&#x2F;prereq&#x2F;#java">
                                            Java
                                        </a>
                                        <ul>
                                            
                                        </ul>
                                    </li>
                                    
                                    <li>
                                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;install&#x2F;prereq&#x2F;#external-programs-for-joex">
                                            External Programs for Joex
                                        </a>
                                        <ul>
                                            
                                            <li>
                                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;install&#x2F;prereq&#x2F;#example-debian">
                                                    Example Debian
                                                </a>
                                            </li>
                                            
                                        </ul>
                                    </li>
                                    
                                    <li>
                                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;install&#x2F;prereq&#x2F;#apache-solr">
                                            Apache SOLR
                                        </a>
                                        <ul>
                                            
                                        </ul>
                                    </li>
                                    
                                    <li>
                                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;install&#x2F;prereq&#x2F;#database">
                                            Database
                                        </a>
                                        <ul>
                                            
                                        </ul>
                                    </li>
                                    
                                </ul>
                                
                            </li>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/install/installing/"
                                   >
                                    Installing
                                </a>
                                
                            </li>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/install/running/"
                                   >
                                    Running
                                </a>
                                
                            </li>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/install/rpi/"
                                   >
                                    Raspberry-Pi And Similiar
                                </a>
                                
                            </li>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/install/reverseproxy/"
                                   >
                                    Reverse Proxy
                                </a>
                                
                            </li>
                            
                        </ul>
                    </div>
                </div>

                <div class="column is-9">
                    <div class="container">
                        <div class="content doc">
                            <p>The two components have one prerequisite in common: they both require
Java to run. While this is the only requirement for the <em>REST server</em>,
the <em>Joex</em> components requires some more external programs.</p>
<p>The rest server and joex components are not required to &quot;see&quot; each
other, though it is recommended.</p>
<h1 id="java">Java<a class="zola-anchor" href="#java" aria-label="Anchor link for: java">ðŸ”—</a></h1>
<p>Very often, Java is already installed. You can check this by opening a
terminal and typing <code>java -version</code>. Otherwise install Java using your
package manager or see <a href="https://adoptopenjdk.net/">this site</a> for
other options.</p>
<p>It is enough to install the JRE. The JDK is required, if you want to
build docspell from source.</p>
<p>Docspell has been tested with Java version 1.8 (or sometimes referred
to as JRE 8 and JDK 8, respectively). The pre-build packages are also
build using JDK 8. But a later version of Java should work as well.</p>
<p>The next tools are only required on machines running the <em>Joex</em>
component.</p>
<h1 id="external-programs-for-joex">External Programs for Joex<a class="zola-anchor" href="#external-programs-for-joex" aria-label="Anchor link for: external-programs-for-joex">ðŸ”—</a></h1>
<ul>
<li><a href="http://pages.cs.wisc.edu/%7Eghost/">Ghostscript</a> (the <code>gs</code> command)
is used to extract/convert PDF files into images that are then fed
to ocr. It is available on most GNU/Linux distributions.</li>
<li><a href="https://github.com/Flameeyes/unpaper">Unpaper</a> is a program that
pre-processes images to yield better results when doing ocr. If this
is not installed, docspell tries without it. However, it is
recommended to install, because it <a href="https://github.com/tesseract-ocr/tesseract/wiki/ImproveQuality">improves text
extraction</a>
(at the expense of a longer runtime).</li>
<li><a href="https://github.com/tesseract-ocr/tesseract">Tesseract</a> is the tool
doing the OCR (converts images into text). It can also convert
images into pdf files. It is a widely used open source OCR engine.
Tesseract 3 and 4 should work with docspell; you can adopt the
command line in the configuration file, if necessary.</li>
<li><a href="https://github.com/unoconv/unoconv">Unoconv</a> is used to convert
office documents into PDF files. It uses libreoffice/openoffice.</li>
<li><a href="https://wkhtmltopdf.org/">wkhtmltopdf</a> is used to convert HTML into
PDF files.</li>
<li><a href="https://github.com/jbarlow83/OCRmyPDF">OCRmyPDF</a> can be optionally
used to convert PDF to PDF files. It adds an OCR layer to scanned
PDF files to make them searchable. It also creates PDF/A files from
the input pdf.</li>
</ul>
<p>The performance of <code>unoconv</code> can be improved by starting <code>unoconv -l</code>
in a separate process. This runs a libreoffice/openoffice listener and
therefore avoids starting one each time <code>unoconv</code> is called.</p>
<h2 id="example-debian">Example Debian<a class="zola-anchor" href="#example-debian" aria-label="Anchor link for: example-debian">ðŸ”—</a></h2>
<p>On Debian this should install all joex requirements:</p>
<pre style="background-color:#282828;">
<code><span style="color:#fdf4c1;">sudo apt-get install ghostscript tesseract-ocr tesseract-ocr-deu tesseract-ocr-eng unpaper unoconv wkhtmltopdf ocrmypdf
</span></code></pre><h1 id="apache-solr">Apache SOLR<a class="zola-anchor" href="#apache-solr" aria-label="Anchor link for: apache-solr">ðŸ”—</a></h1>
<p>SOLR is used to provide the fulltext search feature. This feature can
be disabled, so installing SOLR is optional. But without it, there is
no fulltext search.</p>
<p>When installing manually (i.e. not via docker), just install solr and
create a core as described in the <a href="https://lucene.apache.org/solr/guide/8_4/installing-solr.html">solr
documentation</a>.
That will provide you with the connection url (the last part is the
core name).</p>
<p>When using the provided <code>docker-compose.yml</code> setup, SOLR is already setup.</p>
<p>SOLR must be reachable from all joex and all rest server components.</p>
<h1 id="database">Database<a class="zola-anchor" href="#database" aria-label="Anchor link for: database">ðŸ”—</a></h1>
<p>Both components must have access to a SQL database. The SQL database
contains all data (including binary files) and is the central
component of docspell. Docspell has support these databases:</p>
<ul>
<li>PostreSQL</li>
<li>MariaDB</li>
<li>H2</li>
</ul>
<p>The H2 database is an interesting option for personal and mid-size
setups, as it requires no additional work. It is integrated into
docspell and works really well out of the box. It is also configured
as the default database.</p>
<p>When using H2, make sure that all components access the same database
â€“ the jdbc url must point to the same file. Then, it is important to
add the options
<code>;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;AUTO_SERVER=TRUE</code> at the end
of the url. See the <a href="https://docspell.org/docs/configure/#jdbc">config page</a> for
an example.</p>
<p>For large installations, PostgreSQL or MariaDB is recommended. Create
a database and a user with enough privileges (read, write, create
table) to that database.</p>

                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer">
    <div class="container">
        <div class="content has-text-centered">
            <span>
                Docspell, 0.11.1
            </span>
            <span class="ml-1 mr-1">â€¢</span>
            <a href="https://spdx.org/licenses/GPL-3.0-or-later.html" target="_blank">GPLv3+</a>
            <span class="ml-1 mr-1">â€¢</span>
            <a href="https://github.com/eikek/docspell" target="_blank">
                Source Code
            </a>
            <span class="ml-1 mr-1">â€¢</span>
            <span>
                Â© 2020
                <a href="https://github.com/eikek" target="_blank">
                    @eikek
                </a>
            </span>
        </div>
    </div>
    
</footer>

    </body>
    <!-- Fathom - simple website analytics - https://github.com/usefathom/fathom -->
    <script>
     (function(f, a, t, h, o, m){
         a[h]=a[h]||function(){
             (a[h].q=a[h].q||[]).push(arguments)
         };
         o=f.createElement('script'),
         m=f.getElementsByTagName('script')[0];
         o.async=1; o.src=t; o.id='fathom-script';
         m.parentNode.insertBefore(o,m)
     })(document, window, '//webstats.daheim.site/tracker.js', 'fathom');
     fathom('set', 'siteId', 'OGJDF');
     fathom('trackPageview');
    </script>
    <!-- / Fathom -->
</html>
